"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5439],{5723:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>i,contentTitle:()=>o,default:()=>l,frontMatter:()=>a,metadata:()=>c,toc:()=>u});var r=t(4964),n=t(1523);const a={},o="Sourceless features",c={id:"docs/concepts/sourceless",title:"Sourceless features",description:"Sourceless features are features that don't have a source. They are used to calculate features that are derived from",source:"@site/docs/docs/concepts/4-sourceless.md",sourceDirName:"docs/concepts",slug:"/docs/concepts/sourceless",permalink:"/docs/concepts/sourceless",draft:!1,unlisted:!1,editUrl:"https://github.com/raptor-ml/docs/tree/master/docs/docs/concepts/4-sourceless.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"docs",previous:{title:"Aggregations",permalink:"/docs/concepts/aggregations"},next:{title:'Derived feature (like "join")',permalink:"/docs/concepts/derived"}},i={},u=[{value:"Sourceless feature definition",id:"sourceless-feature-definition",level:2},{value:"Training sourceless features",id:"training-sourceless-features",level:2}];function d(e){const s={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"sourceless-features",children:"Sourceless features"}),"\n",(0,r.jsx)(s.p,{children:"Sourceless features are features that don't have a source. They are used to calculate features that are derived from\nthe keys and timestamp or from other features."}),"\n",(0,r.jsx)(s.h2,{id:"sourceless-feature-definition",children:"Sourceless feature definition"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:'@feature(keys=[\'name\'])\n@freshness(max_age=\'1m\', max_stale=\'10h\')\ndef greeter(_, _) -> str:\n  """this is a hello world feature"""\n  return f"hello {name}"\n'})}),"\n",(0,r.jsxs)(s.p,{children:["In this example, we're defining a feature that returns a string with the name of the user. The feature doesn't have a\nsource, so we're not using the ",(0,r.jsx)(s.code,{children:"data_sources"})," decorator argument."]}),"\n",(0,r.jsx)(s.h2,{id:"training-sourceless-features",children:"Training sourceless features"}),"\n",(0,r.jsx)(s.p,{children:"Since sourceless features don't have a source, we need to provide a training data for the feature. This is necessary to\nallow the LabSDK to know the point in time that the feature was calculated."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",metastring:"{8}",children:"# create a dataframe with the feature's keys and the feature's value\nmarkers_df = pd.DataFrame({\n  'name': ['john', 'jane'],\n  'timestamp': [datetime(2021, 1, 1), datetime(2021, 1, 1)]\n})\n\n# build the feature\n@feature(keys=['name'], sourceless_markers_df=markers_df)\n@freshness(max_age='1m', max_stale='10h')\ndef greeter(_, _) -> str:\n  \"\"\"this is a hello world feature\"\"\"\n  return f\"hello {name}\"\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Sometimes, it might be useful to use the data from an existing data source to mark the feature calculation points.\nTo do that, we can pass the data source to the ",(0,r.jsx)(s.code,{children:"sourceless_markers_df"})," argument."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"@feature(keys=['name'], sourceless_markers_df=User)\n"})})]})}function l(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},1523:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>c});var r=t(6504);const n={},a=r.createContext(n);function o(e){const s=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(a.Provider,{value:s},e.children)}}}]);