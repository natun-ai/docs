"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4902],{4907:(e,t,n)=>{n.d(t,{Zo:()=>l,kt:()=>h});var o=n(9953);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var i=o.createContext({}),u=function(e){var t=o.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},l=function(e){var t=u(e.components);return o.createElement(i.Provider,{value:t},e.children)},m="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),m=u(n),d=r,h=m["".concat(i,".").concat(d)]||m[d]||p[d]||a;return n?o.createElement(h,s(s({ref:t},l),{},{components:n})):o.createElement(h,s({ref:t},l))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,s=new Array(a);s[0]=d;var c={};for(var i in t)hasOwnProperty.call(t,i)&&(c[i]=t[i]);c.originalType=e,c[m]="string"==typeof e?e:r,s[1]=c;for(var u=2;u<a;u++)s[u]=n[u];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7839:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>m,frontMatter:()=>a,metadata:()=>c,toc:()=>u});var o=n(1943),r=(n(9953),n(4907));const a={},s="Common use-cases",c={unversionedId:"docs/concepts/common",id:"docs/concepts/common",title:"Common use-cases",description:"In this section, we'll go over some common use-cases that you might encounter when using Raptor.",source:"@site/docs/docs/concepts/10-common.md",sourceDirName:"docs/concepts",slug:"/docs/concepts/common",permalink:"/docs/concepts/common",draft:!1,editUrl:"https://github.com/raptor-ml/docs/tree/master/docs/docs/concepts/10-common.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{},sidebar:"docs",previous:{title:"Models",permalink:"/docs/concepts/models"},next:{title:"Installing Raptor Core",permalink:"/docs/devops-area/"}},i={},u=[{value:"How can I &quot;join&quot; between two data sources?",id:"how-can-i-join-between-two-data-sources",level:2},{value:"How can I use have aggregations without time windows?",id:"how-can-i-use-have-aggregations-without-time-windows",level:2},{value:"How can I use a feature that&#39;s not a column in my data source?",id:"how-can-i-use-a-feature-thats-not-a-column-in-my-data-source",level:2},{value:"How can I calculate the time difference between two events?",id:"how-can-i-calculate-the-time-difference-between-two-events",level:2}],l={toc:u};function m(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,o.Z)({},l,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"common-use-cases"},"Common use-cases"),(0,r.kt)("p",null,"In this section, we'll go over some common use-cases that you might encounter when using Raptor."),(0,r.kt)("h2",{id:"how-can-i-join-between-two-data-sources"},'How can I "join" between two data sources?'),(0,r.kt)("p",null,"Rather than joining between two data sources, we can use the concept of ",(0,r.kt)("strong",{parentName:"p"},'"dependencies"')," or ",(0,r.kt)("strong",{parentName:"p"},'"derived features"')," to\nachieve the same result."),(0,r.kt)("p",null,"To do that, we can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"ctx.get_feature()")," function to request the value of a feature from another data source."),(0,r.kt)("p",null,"For more information, check out the ",(0,r.kt)("a",{parentName:"p",href:"/docs/concepts/derived"},"Derived feature")," section."),(0,r.kt)("h2",{id:"how-can-i-use-have-aggregations-without-time-windows"},"How can I use have aggregations without time windows?"),(0,r.kt)("p",null,"Unfortunately, Raptor doesn't support aggregations without time windows at the moment. It's in our ",(0,r.kt)("strong",{parentName:"p"},"near")," roadmap."),(0,r.kt)("p",null,"As a workaround, you can specify a very big time window(",(0,r.kt)("inlineCode",{parentName:"p"},"over"),") with a ",(0,r.kt)("inlineCode",{parentName:"p"},"granularity")," of the window size."),(0,r.kt)("h2",{id:"how-can-i-use-a-feature-thats-not-a-column-in-my-data-source"},"How can I use a feature that's not a column in my data source?"),(0,r.kt)("p",null,"Features can be any value that you can calculate from your data source, or from another feature."),(0,r.kt)("h2",{id:"how-can-i-calculate-the-time-difference-between-two-events"},"How can I calculate the time difference between two events?"),(0,r.kt)("p",null,"To calculate the time difference between two events, you should assist another derived feature."),(0,r.kt)("p",null,"For example, let's say we want to calculate the time difference between the purchases of a customer."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-python"},"@feature(keys=['customer_id'], datasource=CustomerPurchases)\n@keep_previous(versions=1, over='1d')\n@freshness(max_age='1h', max_stale='1d')\ndef last_purchase_time(this_row: CustomerPurchases, ctx: FeatureContext):\n    return this_row['purchase_time']\n\n@feature(keys=['customer_id'], sourceless_markers_df=CustomerPurchases)\n@freshness(max_age='1h', max_stale='1d')\ndef time_since_last_purchase(ctx: FeatureContext):\n    last_purchase = ctx.get_feature('last_purchase_time')\n    return ctx.this_row['purchase_time'] - last_purchase\n")))}m.isMDXComponent=!0}}]);